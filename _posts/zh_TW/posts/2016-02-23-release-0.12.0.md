---
title: Bitcoin Core 0.12.0PO！
name: blog-release-0.12.0
id: zh_tw-blog-release-0.12.0
lang: zh_TW
permalink: /zh_TW/2016/02/23/release-0.12.0/
type: posts
layout: post
version: 1
---
我們很高興地宣佈Bitcoin Core 0.12.0版本正式PO。這次的PO花費了很多心血，並且是目前最重要的一個版本，其中包含了比先前版本更有效的改進。

如果你升級節點到0.12版本，以下是主要的改進：

1. 簽名驗證將提速7倍
2. 能夠限製上載流量
3. 通過記憶體池限製來進行碰撞預防
4. 在發送交易時，可選擇增加手續費來加速交易處理
5. 當運行時，它可以自動使用Tor
6. 通過ZeroMQ的通知，來訂閱APP的能力
7. 大幅度減少錢包佔用的磁盤空間
8. 礦工在裝配區塊時可以變得更快

除了這些之外， 還有其他13項改進冇有列入這個列表，但它們仍然是非常有價值的。你可以在這篇文章的末尾找到它們的完整列表。

下麵，就讓我們來更加深入地了解每一項改進。

簽名驗證將提速7倍

在Bitcoin Core當中，OpenSSL在此前是被用於驗證比特幣交易的ECDSA簽名的。OpenSSL在其功能性上講，非常的全麵（它不僅僅可以簡單地驗證ECDSA簽名），但這個龐大的功能集，也就意味著其攻擊麵也是非常廣的。這也威脅著比特幣的安全性，將OpenSSL從Bitcoin Core中替換出去，也就成為了優先級較高的改進，並用一個更為簡單、更加集中的替代品來進行更換。

為了解決這個問題，Bitcoin Core團隊已開發了一種新的ECDSA簽名驗證庫稱為 libsecp256k1，以此作為OpenSSL的一個替代品。這是開發者花費近3年時間進行的複雜專案研究的結果，將此結合進Bitcoin Core中後，簽名驗證程式碼的攻擊麵也就大大降低了。

此外，libsecp256k1的簽名驗證要比OpenSSL的執行要快得多。在64位架構環境下，至多能將簽名驗證提速7倍，原編製索引和區塊驗證現在可能隻需要花費不到原先一半的時間就可以完成，這對於比特幣交易的驗證過程而言，邁進了一大步。

功勞歸於：Pieter Wuille, Greg Maxwell和 Cory Fields

## 能夠限製上載流量

節點上載流量對於某些用戶而言就是一種負擔，因此能夠限製流量的能力也是比特幣急需的一個改進。節點用戶現在可以為他們能夠上載多少的流量，設定一個軟限製。用戶可以設定一個參數，具體某些目標節點能夠傳送多少的數據。它會嘗試保持低於限製，而不是達到這個值，如果流量達到了這個限製，它就會隻服務於最後一周內的請求數據塊。

功勞歸於：Jonas Schnelli

## 通過Memory Pool限製來進行碰撞預防

舊版本的比特幣軟體對於有多少交易能夠允許進入節點的 memory pool中，並冇有一個限製。即使節點將僅接受具有一定最低中繼費的交易，有時滿足這些要求的交易，仍然會是非常多的，並導緻RAM相對降低的節點會崩潰。特別考慮到攻擊者可以通過利用這個特性，用洪水交易來攻擊比特幣網路，造成部分節點的崩潰。

而在這個新版本中，節點就可以設定他們的memory pool的大小限製，操作員可以配置他們想要投入到mempool的交易數量。當這個記憶體限製達到上限時，新的交易仍然是可被接受的，但最低交易費的交易將從mempool中被移除。這種新的記憶體限製，可確保防止memory pool的意外崩潰，因為能夠進行的交易數量是可控製的。

功勞歸於： Matt Corallo和Suhas Daftuar

## 在發送交易時，可選擇增加手續費來加速交易處理

如果用戶在發送交易時，給出的交易費太低，這些交易往往會被卡住（礦工不考慮處理），這可能會引發問題，因為這些交易中的未花費輸出（UTXOs）可能很難進行使用，可能會導緻資金的凍結。適當的交易費用是很難進行計算的，因為它們高度依賴於交易的體積以及給定的時間。因此，用戶通常會低估了交易費，導緻很多的交易被卡住，或者高估了交易費，導緻多付了大量不必要的費用。

一種稱為Opt-in Replace-by-Fee新的功能 ，能夠讓交易發送者配置他們的交易。發送者可以先用較低的費用，看看他們的交易是否會被接受，如果冇有，他們可以增加他們的費用，直到被接受。這允許發送者能夠盡量地減少他們的支付費用，並最大限度的提高他們的交易被包含在一個區塊的機會。

功勞歸於： Peter Todd和Suhas Daftuar

## 當Tor在運行時，它可以自動使用

節點現在可以檢測Tor是否在運行，如果是的，它們會自動為Tor創建隱匿服務，並通過Tor網路連接到其他節點。無需手動配置。

功勞歸於：Wladimir van der Laan

## 通過ZeroMQ，可讓APP來訂閱通知

截至目前，對於外部服務對訂閱新區塊和新交易通知的支援是有限的，而現在因為整合了ZeroMQ，就擁有了這個能力。

功勞歸於：Johnathan Corgan

## 大幅度減少錢包佔用磁盤的空間

使用Bitcoin Core錢包的用戶常常會對一個問題感到頭疼，允許一個完整節點也就意味著高數據存儲的負擔（當前已經達到了60GB，並將持續上升）。對於那些想要運行一個完整節點，但又不想過高數據存儲負擔的用戶而言，新版本的Bitcoin Core能夠實現修剪模式的能力，這意味著，節點隻需要跟蹤未花費輸出（unspent outputs ），並忘記先前處理塊以及已花費輸出。反過來，這意味著用戶在運行一個完整節點時，隻需要存儲大約2GB 的數據，相比之前的60GB已大幅度地減少了要求。

功勞歸於：Jonas Schnelli, Greg Maxwell和 Adam Weiss

## 礦工在裝配區塊時可以變得更快

此前，區塊模版創建對於礦工而言一直是相當昂貴的，這需要高計算時間以及相當多的記憶體。所謂高計算時間，就是礦工在裝配區塊的同時，需要為區塊的驗證執行共識臨界計算。而高的記憶體要求，則是因為在區塊裝配時，在某節點的memory pool中的每一筆交易需要將其輸入（inputs）放入到in-memory緩存中，以此用於各種計算。

而在0.12版本當中，共識臨界計算不再是區塊裝配過程中的免洗執行過程，而是一旦所有這些交易打入了memory pool，會預先計算這些交易，然後進行緩存。這意味著在裝配過程中，大部分的計算已經被執行了，區塊模版也就可以非常快速地産生。具體而言，這個裝配時間將從之前的幾秒縮短到幾十毫秒。

這個預先計算，也就意味著某節點memory pool中所有交易的輸入（input），不再是免洗進入高速緩存，從而降低了對memory的需求。

功勞歸於：Alex Morcos

## 結束語

0.12版本的PO，將是 Bitcoin Core客戶端的重大進步。然而，當前開發團隊仍然有很多的工作要去做，Bitcoin Core一直在尋找更多的貢獻者。欲了解更多詳情，可以參閱Bitcoin Core的貢獻頁麵，特別是CONTRIBUTING.md。下載0.12版本可訪問：

從 <https://bitcoincore.org/bin/bitcoin-core-0.12.0/>下載

Bitcoin Core開發團隊

## 0.12版本資源

[官方版本PO更新](https://github.com/bitcoin/bitcoin/blob/v0.12.0/doc/release-notes.md)。
[更新日誌](https://github.com/bitcoin/bitcoin/blob/v0.12.0/doc/release-notes.md#0120-change-log)。
- [Pull requests](https://github.com/bitcoin/bitcoin/pulls?q=is%3Apr+milestone%3A0.12.0+is%3Aclosed).

## 社區資源

[每周會議摘要](https://bitcoincore.org/en/meetings/)

IRC 社區
在‘irc.freenode.net’加入“#bitcoin-dev”和“bitcoin-core-dev”頻道

推特：
關註比特幣核心更新[@bitcoincoreorg](https://twitter.com/bitcoincoreorg)義務翻譯.

此日誌是由Ryan Shea基於官方[release notes]寫成(https://github.com/bitcoin/bitcoin/blob/v0.12.0/doc/release-notes.md)。
